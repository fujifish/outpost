#!/usr/local/bin/node

var Outpost = require('../lib/outpost');

var outpost = new Outpost({
  registry: 'file:///Users/nfischer/capriza/outpost'
});

outpost.start(function() {
  var command1 = {
//    module: 'testmodule@0.1.0',
    type: 'install',
    url: 'file:///Users/nfischer/capriza/outpost/testmodule/0.1.0',
    config: {}
  };

  var command2 = {
    module: 'testmodule@0.1.0',
    type: 'configure',
    config: {
      a: 1,
      b: 'hello'
    }
  };

  var command3 = {
    module: 'testmodule@0.1.0',
    type: 'start',
    config: {
      port: 8080
    }
  };

  var command4 = {
    module: 'testmodule@0.1.0',
    type: 'stop'
  };

  var commands = [command1, command2, command3];
//  var commands = [command4];
//  var commands = [command4, command3];
  outpost.process(commands, function() {
    console.log('DONE!');
  });

});

