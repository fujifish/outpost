#!/usr/local/bin/node

var Outpost = require('../lib/outpost');

var outpost = new Outpost({
  registry: 'file:///Users/nfischer/capriza/outpost'
});

outpost.start(function() {
  var command1 = {
    type: 'install',
//    module: 'testmodule@0.1.0',
    url: 'file:///Users/nfischer/capriza/outpost/testmodule/0.1.0',
    config: {}
  };

  var command2 = {
    type: 'configure',
    module: 'testmodule@0.1.0',
    config: {
      a: 1,
      b: 'hello'
    }
  };

  var command3 = {
    type: 'start',
    module: 'testmodule@0.1.0',
    config: {
      port: 8080
    }

  };

  outpost.process([command1, command2, command3], function() {
    console.log('DONE!');
  });

});

